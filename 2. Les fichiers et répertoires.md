---
marp: true
theme: uncover
class:
 - invert
---

LIGNE DE COMMANDE: Apprendre les bases 2/6 - Les fichiers et répertoires
===
---

## cd

**cd** (**c**hange **d**irectory): changer le répertoire de travail

- ``~``: tilde. Répertoire personnal de l'utilisateur  (ex: `/home/clark/`)
- `cd ~`, c'est la même chose que `cd` tout court
- Les dossiers sont séparés par un `/`  (sur Windows, `\`)
- `cd ../`: On revient en arrière d'un niveau

---

- A chaque espace dans le nom d'un dossier, on doit coller un `\` au mot précédent l'espace ou utiliser des guillemets|apostrophes (ex: `cd Mes\ vidéos` ou `cd 'Mes vidéos'`)

---

## pwd

**pwd** (**p**rint **w**orking **d**irectory): Affiche le répertoire courant

Sous la forme d'un chemin absolu (à partir du dossier racine)

---

## ls

**ls** (**l**i**s**t): Lister le contenu d'un répertoire

Les options les plus courantes:
- `-l`: affiche d'autres informations, comme la date de dernière modification
- `-a`: affiche les fichiers cachés aussi
- `-R`: affiche les fichiers et répertoires de façon récursive

---

## mkdir

**mkdir** (_**m**ake **d**irectory_) : Créer des répertoires

- `mkdir test`: Crée le dossier test dans le répertoire courant
- `mkdir -p test/test2`: Crée le dossier test, puis le dossier test2 dedans

---

## rmdir

**rmdir** (**r**emove **d**irectory) : Supprimer des répertoires

- ``rmdir nomDuDossier``
- Le dossier doit être vide. Si ce n'est pas le cas, `rm -rf nomdudossier`

---

## cat

https://www.hostinger.fr/tutoriels/commande-cat-linux

**cat** (con**cat**enate): Concaténer des fichiers ainsi qu'afficher leur contenu

```bash
cat [OPTION] [FICHIER]
 ```

**Visualiser le contenu**
- d'un fichier: ``cat nomdufichier.txt`
- de plusieurs fichiers: ``cat nomdufichier1.txt nomdufichier2.txt`

---

**Créer un fichier**
- en ajoutant le contenu via le terminal: ``cat > nomdufichier.txt``
- Avec contenu en écrasant le fichier de destination: ``cat source.txt > destination.txt``
- Avec contenu en ajoutant au fichier de destination:  ``cat source.txt >> destination.txt``

---

- `-n`: affiche les numéros de ligne


- Créer un fichier vide: `touch nom_de_fichier.txt`
- Créer un fichier avec comme contenu une chaine de caractères: `echo "truc" > fic.txt`
---

## nano

Editeur de texte simple
```bash
nano fic.txt
```

- **CTRL + O** : enregistrer les modifs
- **CTRL + X** : fermer l'éditeur et demande avant si on veut enregistrer les modifications.
-  **CTRL + W** :  rechercher un texte, puis **ALT + W** pour continuer à rechercher le même

---

## vi

Editeur de texte plus complexe
-   **Le mode normal**: celui de base ou taper sur **échap**. Permet de taper des commandes
-   **Le mode insertion**: permet d'insérer les caractères à l'intérieur du document. Appuyer sur la touche **i**
-   **Le mode de remplacement**: permet de remplacer le texte existant par le texte que vous saisissez. Réappuyer sur touche **i** à partir du mode insertion

---

### Commandes de base de vi

- `:q`: Quitte l'éditeur (sans sauvegarder)
- `:q!`: Force l'éditeur à quitter sans sauvegarder (même si des modifications ont été apportées au document)
- `:wq`: Sauvegarde le document et quitte l'éditeur

---

## head et tail
Les commandes **head** et **tail** permettent respectivement de n’afficher que le début et la fin de fichiers

- `head fic.txt`: Affiche les 10 premières lignes
- `head -n4 fic.txt`: Affiche les 4 premières lignes
- `tail fic.txt`: Affiche les 10 dernières lignes
- `tail -n7 fic.txt`: Affiche les 7 dernières lignes

---

## cp

**cp** (**c**o**p**y): Copier un ou plusieurs fichiers/répertoires

```bash
cp [Original] [Destination]
```

- `cp fic1.txt Documents/`  : copie fic1.txt dans le dossier Documents
- `cp toto.txt toto.bak` : copie toto.txt dans toto.bak
- `cp -R img images/`: copie l'intégralité du répertoire img dans images

- `-i`: Demande une confirmation avant d'écraser

---

## mv

**mv** (**m**o**v**e): permet de déplacer un fichier ou un répertoire

- ``mv fichier1 fichier2`` : Renomme le fichier1 et le fichier2
- `mv fichier.txt tmp/`: Déplace fichier.txt dans tmp/
- `mv dir1 dir2`: Renomme dir1 en dir2
- `mv * Documents/`: Bouge tout le contenu du répertoire courant dans Documents/

---

## rm

**rm** (**r**e**m**ove): Supprimer un fichier ou répertoire

- `rm truc.txt`: Supprime truc.txt
- `rm -r doss`: Supprime un dossier et tous fichiers (attention!)

- `-f`: Supprime aussi les fichiers protégés en écriture sans avoir à confirmer
- `-v` :Mode verbose (bavard), indique tout ce qui est supprimé

---

## find

Rechercher un ou plusieurs fichiers dans des répertoires

```bash
find [repertoire] [criteres] [action]
```

- `find . -name "a.txt"`: Recherche le fichier "a.txt" dans le dossier courant
- `find /home -name "*final*"`: Recherche tous les fichiers ayant final dans leur nom, et dans le dossier /home

---

- `find . -type f -name "*.jpg"`: Liste tous les fichiers dans le répertoire courant et terminant par jpg
- `-type d` : répertoire

---

## grep

trouver l'occurence d'un mot dans des fichiers

```bash
grep [options] recherche [FICHIER]
```

- ``grep truc fic.txt`` : Trouve les occurences de truc dans fic.txt
- `-i`:  ignorer les majuscules
- `-c`: Savoir le nombre de mots
- `-r`: recherche récursive dans un répertoire

---

## df et du

**df**(**D**isk **F**ree): affiche l'espace disque utilisé et disponible
- `df -h`: -h donne une vue plus lisible

---

**du** (**d**isk **u**sage)
- `-s`(summarize): faire la somme de tous les fichiers et sous répertoires présents.
- `-h` (pour human-readeable): afficher la taille dans un multiple plus lisible (Ko, Mo, Go, To, Po)

-> `du -sh /home` : Affiche la place que prend /home

